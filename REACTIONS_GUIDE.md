# üéØ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–∫—Ü–∏–π –¥–ª—è Telegram Reminder Bot

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–∫—Ü–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±—ã—Å—Ç—Ä–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ —ç–º–æ–¥–∑–∏-—Ä–µ–∞–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –∏ –±—ã—Å—Ç—Ä—ã–º.

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **`reactions_config.py`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–∞–∫—Ü–∏–π –∏ –∏—Ö –ª–æ–≥–∏–∫–∏
2. **`reaction_handler.py`** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ–∞–∫—Ü–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
3. **`reaction_manager.py`** - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏—è–º–∏
4. **`telegram_bot.py`** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –±–æ—Ç–æ–º

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏

| –≠–º–æ–¥–∑–∏ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|----------|----------|
| üëç | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | `confirm_reminder` |
| ‚ùå | –û—Ç–º–µ–Ω–∏—Ç—å | –û—Ç–º–µ–Ω–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | `cancel_reminder` |
| ‚è∞ | –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è | –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è | `change_time` |
| üìù | –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç | –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è | `change_text` |
| üîÑ | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | `repeat_reminder` |
| üìã | –°–ø–∏—Å–æ–∫ | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π | `show_list` |
| üóëÔ∏è | –£–¥–∞–ª–∏—Ç—å | –£–¥–∞–ª–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | `delete_reminder` |
| ‚úÖ | –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ | `mark_done` |

## üé® –ù–∞–±–æ—Ä—ã —Ä–µ–∞–∫—Ü–∏–π

### –ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º:

- **`reminder_confirmation`** - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: `üëç`, `‚ùå`, `‚è∞`, `üìù`
- **`reminder_management`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º: `üîÑ`, `üóëÔ∏è`, `‚úÖ`, `‚è∞`, `üìù`
- **`main_menu`** - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: `üìã`, `‚è∞`, `üìù`
- **`list_view`** - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞: `üóëÔ∏è`, `‚úÖ`, `‚è∞`, `üìù`

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ** —Ç–µ–∫—Å—Ç–æ–º –∏–ª–∏ –≥–æ–ª–æ—Å–æ–º
2. **–ü–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏
3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/reactions`** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–π –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
await self.reaction_manager.add_reactions_to_message(message, "reminder_confirmation")

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π
await self.reaction_manager.add_custom_reactions(message, ["üëç", "‚ùå"])

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ —Ä–µ–∞–∫—Ü–∏—è–º
help_text = self.reaction_manager.format_reactions_help("main_menu")
```

## üîÑ –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∞–∫—Ü–∏–∏:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è** - –≤—ã–∑–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Ç–æ–¥–∞
4. **–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è

### –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:

```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
self.reaction_handler.set_user_state(user_id, {
    "state": "waiting_for_time",
    "action": "change_time"
})

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
state = self.reaction_handler.get_user_state(user_id)

# –û—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
self.reaction_handler.clear_user_state(user_id)
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–µ–∞–∫—Ü–∏–∏:

1. **–û–±–Ω–æ–≤–∏—Ç–µ `reactions_config.py`**:
```python
REACTIONS_CONFIG["üÜï"] = {
    "name": "–ù–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è",
    "action": "new_action",
    "emoji": "üÜï"
}
```

2. **–î–æ–±–∞–≤—å—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ `reaction_handler.py`**:
```python
async def _new_action(self, update, context, user_id):
    # –õ–æ–≥–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
    return True
```

3. **–û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞–±–æ—Ä—ã —Ä–µ–∞–∫—Ü–∏–π**:
```python
REACTION_SETS["new_state"] = ["üÜï", "üëç", "‚ùå"]
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```python
# –í reactions_config.py
REACTION_SETS["new_state"] = ["üëç", "‚ùå", "‚è∞"]

# –í –∫–æ–¥–µ
await self.reaction_manager.add_reactions_to_message(message, "new_state")
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏:

```python
# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
success_message = "‚úÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ!"
await processing_message.edit_text(success_message, parse_mode='HTML')

# –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∞–∫—Ü–∏–∏
await self.reaction_manager.add_reactions_to_message(
    processing_message, 
    "reminder_confirmation"
)
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏:

```python
async def handle_reaction(self, update, context):
    handled = await self.reaction_handler.handle_reaction(update, context)
    
    if not handled:
        await update.message.reply_text("‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è.")
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∞–∫—Ü–∏–π

1. **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - –æ–¥–∏–Ω –∫–ª–∏–∫ –≤–º–µ—Å—Ç–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞
2. **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–º–æ–¥–∑–∏ –ø–æ–Ω—è—Ç–Ω—ã –≤—Å–µ–º
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∞–∫—Ü–∏–∏
5. **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```python
logger.info(f"–ü–æ–ª—É—á–µ–Ω–∞ —Ä–µ–∞–∫—Ü–∏—è {emoji} –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
logger.info(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏–µ: {action}")
logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∞–∫—Ü–∏–∏: {e}")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
state = self.reaction_handler.get_user_state(user_id)
if state:
    logger.info(f"–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {state}")
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–∫—Ü–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –±–æ—Ç–æ–º. –î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
./deploy.sh --update

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./deploy.sh --status
```

## üìù –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã —Ä–µ–∞–∫—Ü–∏–π
2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–π
3. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ä–µ–∞–∫—Ü–∏–∏** - —Ä–µ–∞–∫—Ü–∏–∏ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
4. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ —ç–º–æ–¥–∑–∏** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —ç–º–æ–¥–∑–∏
5. **–†–µ–∞–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏** - —Ä–µ–∞–∫—Ü–∏–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏
